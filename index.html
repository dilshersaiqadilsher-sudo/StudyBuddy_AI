<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Ultra Smart AI Friend âš¡ Ultimate</title>

<style>
:root{
  --bg:#050b1e;
  --card:#0b132b;
  --text:#ffffff;
  --bubble:#2563eb;
  --bot:#111827;
}
body.light{
  --bg:#f4f6fb;
  --card:#ffffff;
  --text:#0b132b;
  --bubble:#3b82f6;
  --bot:#e5e7eb;
}
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.app{
  width:380px;
  max-height:90vh;
  background:var(--card);
  border-radius:18px;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}
.header{
  background:linear-gradient(90deg,#2563eb,#38bdf8);
  color:#fff;
  padding:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.header h2{
  margin:0;
  font-size:16px;
}
.header small{
  display:block;
  opacity:.9;
}
#themeToggle{
  background:rgba(255,255,255,.2);
  border:none;
  border-radius:50%;
  width:34px;
  height:34px;
  cursor:pointer;
  color:#fff;
  font-size:16px;
}
.chat{
  flex:1;
  padding:12px;
  overflow-y:auto;
}
.msg{
  margin-bottom:10px;
  max-width:80%;
  padding:10px 12px;
  border-radius:14px;
  font-size:14px;
}
.user{
  background:var(--bubble);
  color:#fff;
  margin-left:auto;
}
.bot{
  background:var(--bot);
  color:var(--text);
}
.input-area{
  display:flex;
  padding:10px;
  gap:8px;
}
.input-area input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:none;
  outline:none;
}
.input-area button{
  background:#22c55e;
  border:none;
  color:#fff;
  border-radius:50%;
  width:42px;
  height:42px;
  cursor:pointer;
  font-size:18px;
}
</style>
</head>

<body>
<div class="app">
  <div class="header">
    <div>
      <h2>Ultra Smart AI Friend âš¡ Ultimate</h2>
      <small id="date"></small>
    </div>
    <button id="themeToggle">ðŸŒ™</button>
  </div>

  <div class="chat" id="chat"></div>

  <div class="input-area">
    <input id="input" placeholder="Ask anything or type a calculation..." />
    <button onclick="send()">â–¶</button>
  </div>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");
const toggle = document.getElementById("themeToggle");

document.getElementById("date").innerText =
  new Date().toDateString();

function addMsg(text, cls){
  const div = document.createElement("div");
  div.className = "msg " + cls;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

function send(){
  const text = input.value.trim();
  if(!text) return;
  const cmd = text.toLowerCase();
  input.value = "";

  if(cmd==="clear"||cmd==="clear chat"||cmd==="delete chat"){
    chat.innerHTML="";
    return;
  }
  if(cmd==="light mode"){
    document.body.classList.add("light");
    localStorage.setItem("theme","light");
    return;
  }
  if(cmd==="dark mode"){
    document.body.classList.remove("light");
    localStorage.setItem("theme","dark");
    return;
  }

  addMsg(text,"user");
  process(text);
}

function process(text){
  if(/^[0-9+\-*/().\s]+$/.test(text)){
    try{
      addMsg("ðŸ§® Answer: " + eval(text),"bot");
    }catch{
      addMsg("âŒ Invalid calculation","bot");
    }
    return;
  }

  if(text.toLowerCase()==="hi"){
    addMsg("Hello ðŸ‘‹ Iâ€™m Ultra Smart AI Friend.","bot");
    return;
  }
  if(text.toLowerCase()==="bye"){
    addMsg("Goodbye ðŸ‘‹ Your chat is saved.","bot");
    return;
  }

  addMsg("Ask me anything â€” calculations, logic, or help.","bot");
}

toggle.onclick=()=>{
  document.body.classList.toggle("light");
  localStorage.setItem(
    "theme",
    document.body.classList.contains("light")?"light":"dark"
  );
};

window.onload=()=>{
  if(localStorage.getItem("theme")==="light"){
    document.body.classList.add("light");
  }
  addMsg("Hello ðŸ‘‹ Iâ€™m Ultra Smart AI Friend.","bot");
};

input.addEventListener("keydown",e=>{
  if(e.key==="Enter") send();
});
</script>
</body>
</html>
