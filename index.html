<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ultra Smart AI Friend â€” Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#020617">

<style>
*{box-sizing:border-box;font-family:Segoe UI,Arial,sans-serif}
body{
  margin:0;height:100vh;
  background:radial-gradient(circle at top,#0f1b3d,#020617);
  display:flex;align-items:center;justify-content:center;color:#fff
}
.app{
  width:440px;max-width:96%;height:680px;
  background:#020617;border-radius:22px;
  box-shadow:0 0 60px rgba(0,0,0,.9);
  display:flex;flex-direction:column;overflow:hidden
}
.header{
  padding:16px;text-align:center;
  background:linear-gradient(90deg,#2563eb,#38bdf8);
  font-size:20px;font-weight:600
}
.sub{font-size:12px;opacity:.9}
.chat{
  flex:1;padding:16px;overflow-y:auto;
  background:linear-gradient(180deg,#020617,#020617,#030712)
}
.msg{
  max-width:85%;padding:12px 14px;margin-bottom:12px;
  border-radius:16px;font-size:14px;line-height:1.45;
  animation:fade .25s ease
}
.user{margin-left:auto;background:#2563eb;border-bottom-right-radius:4px}
.bot{background:#1f2937;border-bottom-left-radius:4px}
.footer{
  display:flex;gap:8px;padding:12px;
  background:#020617;border-top:1px solid #0f172a
}
input{
  flex:1;padding:13px;border-radius:14px;
  border:none;outline:none;background:#0f172a;color:#fff
}
button{
  width:52px;border-radius:14px;border:none;
  background:#22c55e;font-size:18px;cursor:pointer
}
.typing{opacity:.6;font-style:italic}
@keyframes fade{from{opacity:0;transform:translateY(4px)}to{opacity:1}}
</style>
</head>

<body>

<div class="app">
  <div class="header">
    Ultra Smart AI Friend <span style="font-size:14px">âš¡ Pro</span>
    <div class="sub" id="date"></div>
  </div>

  <div class="chat" id="chat"></div>

  <div class="footer">
    <input id="input" placeholder="Ask anything..." />
    <button onclick="send()">â–¶</button>
  </div>
</div>

<script>
/* ========= CORE ========= */
const chat=document.getElementById("chat");
const input=document.getElementById("input");
document.getElementById("date").innerText=
  "Today â€¢ "+new Date().toDateString();

let memory=JSON.parse(localStorage.getItem("ultra_ai_memory")||"[]");

/* ========= UI ========= */
function addMsg(t,c){
  const d=document.createElement("div");
  d.className="msg "+c;
  d.innerText=t;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
}
function typing(show){
  if(show){
    const d=document.createElement("div");
    d.id="typing";
    d.className="msg bot typing";
    d.innerText="Ultra AI is thinkingâ€¦";
    chat.appendChild(d);
    chat.scrollTop=chat.scrollHeight;
  }else{
    const t=document.getElementById("typing");
    if(t) t.remove();
  }
}

/* ========= MEMORY ========= */
function saveMemory(q,a){
  memory.push({q,a,time:Date.now()});
  if(memory.length>300) memory.shift();
  localStorage.setItem("ultra_ai_memory",JSON.stringify(memory));
}

/* ========= AI ENGINE ========= */
function smartAI(q){
  const l=q.toLowerCase();

  for(let m of memory){
    if(m.q.toLowerCase()===l){
      return "You asked this before. Hereâ€™s what I said:\n\n"+m.a;
    }
  }

  if(l.includes("who made you"))
    return "Iâ€™m a progressive offline AI web app built using advanced JavaScript logic, memory, and PWA technology.";

  if(l.includes("how are you"))
    return "Iâ€™m always active, always learning, and always ready to help â€” no rest required.";

  if(l.includes("who are you"))
    return "I am Ultra Smart AI Friend Pro â€” a ChatGPT-style assistant running entirely in your browser.";

  if(l.includes("future"))
    return "The future of AI is human-AI partnership: learning faster, creating smarter, and solving bigger problems together.";

  if(l.includes("ai"))
    return "Artificial Intelligence simulates human reasoning. I analyze language, recall memory, and respond logically â€” all offline.";

  if(l.includes("hi")||l.includes("hello"))
    return "Hello ðŸ‘‹ Iâ€™m Ultra Smart AI Friend Pro. Ask me anything.";

  return "Thatâ€™s a thoughtful question. I analyze meaning, memory, and logic to give the most helpful answer possible.";
}

/* ========= SEND ========= */
function send(){
  const t=input.value.trim();
  if(!t) return;
  addMsg(t,"user");
  input.value="";
  typing(true);
  setTimeout(()=>{
    typing(false);
    const a=smartAI(t);
    addMsg(a,"bot");
    saveMemory(t,a);
  },600);
}
input.addEventListener("keydown",e=>{if(e.key==="Enter")send()});
addMsg("Hello ðŸ‘‹ Iâ€™m Ultra Smart AI Friend Pro. I work offline, remember chats, and can be installed as an app.","bot");

/* ========= PWA ========= */
const manifest={
  name:"Ultra Smart AI Friend Pro",
  short_name:"UltraAI",
  start_url:".",
  display:"standalone",
  background_color:"#020617",
  theme_color:"#020617",
  icons:[{
    src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAF0lEQVR42u3BAQ0AAADCIPunNsN+YAAAAABJRU5ErkJggg==",
    sizes:"192x192",
    type:"image/png"
  }]
};
const mURL=URL.createObjectURL(new Blob([JSON.stringify(manifest)],{type:"application/json"}));
const link=document.createElement("link");
link.rel="manifest";link.href=mURL;document.head.appendChild(link);

if("serviceWorker" in navigator){
  const sw=`
  self.addEventListener("install",e=>{
    e.waitUntil(caches.open("ultra-ai-pro").then(c=>c.addAll(["./"])));
    self.skipWaiting();
  });
  self.addEventListener("fetch",e=>{
    e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request)));
  });
  `;
  navigator.serviceWorker.register(
    URL.createObjectURL(new Blob([sw],{type:"text/javascript"}))
  );
}
</script>

</body>
</html>
